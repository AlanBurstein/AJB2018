CREATE TABLE [emdbuser].[LOANXDB_S_01]
(
[XrefId] [int] NOT NULL,
[_2293] [varchar] (64) COLLATE SQL_Latin1_General_CP1_CI_AS NULL CONSTRAINT [DF_2293] DEFAULT (N''),
[_2294] [varchar] (64) COLLATE SQL_Latin1_General_CP1_CI_AS NULL CONSTRAINT [DF_2294] DEFAULT (N''),
[_SYS_X36] [varchar] (1) COLLATE SQL_Latin1_General_CP1_CI_AS NULL CONSTRAINT [DF_SYS_X36] DEFAULT (N''),
[_CX_COMPAREDUE_2] [varchar] (15) COLLATE SQL_Latin1_General_CP1_CI_AS NULL CONSTRAINT [DF_CX_COMPAREDUE_2] DEFAULT (N''),
[_SYS_X79] [varchar] (1) COLLATE SQL_Latin1_General_CP1_CI_AS NULL CONSTRAINT [DF_SYS_X79] DEFAULT (N''),
[_1841] [varchar] (28) COLLATE SQL_Latin1_General_CP1_CI_AS NULL CONSTRAINT [DF_1841] DEFAULT (N''),
[_CUST76FV] [varchar] (64) COLLATE SQL_Latin1_General_CP1_CI_AS NULL CONSTRAINT [DF_CUST76FV] DEFAULT (N''),
[_SYS_X65] [varchar] (1) COLLATE SQL_Latin1_General_CP1_CI_AS NULL CONSTRAINT [DF_SYS_X65] DEFAULT (N''),
[_2241] [varchar] (64) COLLATE SQL_Latin1_General_CP1_CI_AS NULL CONSTRAINT [DF_2241] DEFAULT (N''),
[_68] [varchar] (20) COLLATE SQL_Latin1_General_CP1_CI_AS NULL CONSTRAINT [DF_68] DEFAULT (N''),
[_CX_ACCTCHECK4_3] [varchar] (10) COLLATE SQL_Latin1_General_CP1_CI_AS NULL CONSTRAINT [DF_CX_ACCTCHECK4_3] DEFAULT (N''),
[_CX_LCNAME_1] [varchar] (64) COLLATE SQL_Latin1_General_CP1_CI_AS NULL CONSTRAINT [DF_CX_LCNAME_1] DEFAULT (N''),
[_CX_CLSRUSHTIME_1] [varchar] (8) COLLATE SQL_Latin1_General_CP1_CI_AS NULL CONSTRAINT [DF_CX_CLSRUSHTIME_1] DEFAULT (N''),
[_123] [varchar] (8) COLLATE SQL_Latin1_General_CP1_CI_AS NULL CONSTRAINT [DF_123] DEFAULT (N''),
[_613] [varchar] (22) COLLATE SQL_Latin1_General_CP1_CI_AS NULL CONSTRAINT [DF_613] DEFAULT (N''),
[_1811] [varchar] (16) COLLATE SQL_Latin1_General_CP1_CI_AS NULL CONSTRAINT [DF_1811] DEFAULT (N''),
[_SYS_X251] [varchar] (6) COLLATE SQL_Latin1_General_CP1_CI_AS NULL CONSTRAINT [DF_SYS_X251] DEFAULT (N''),
[_SYS_X252] [varchar] (8) COLLATE SQL_Latin1_General_CP1_CI_AS NULL CONSTRAINT [DF_SYS_X252] DEFAULT (N''),
[_SYS_X253] [varchar] (6) COLLATE SQL_Latin1_General_CP1_CI_AS NULL CONSTRAINT [DF_SYS_X253] DEFAULT (N''),
[_SYS_X254] [varchar] (8) COLLATE SQL_Latin1_General_CP1_CI_AS NULL CONSTRAINT [DF_SYS_X254] DEFAULT (N''),
[_608] [varchar] (26) COLLATE SQL_Latin1_General_CP1_CI_AS NULL CONSTRAINT [DF_608] DEFAULT (N''),
[_CX_COMPAREAPPR_2] [varchar] (15) COLLATE SQL_Latin1_General_CP1_CI_AS NULL CONSTRAINT [DF_CX_COMPAREAPPR_2] DEFAULT (N''),
[_1391] [varchar] (28) COLLATE SQL_Latin1_General_CP1_CI_AS NULL CONSTRAINT [DF_1391] DEFAULT (N''),
[_1390] [varchar] (28) COLLATE SQL_Latin1_General_CP1_CI_AS NULL CONSTRAINT [DF_1390] DEFAULT (N''),
[_1395] [varchar] (14) COLLATE SQL_Latin1_General_CP1_CI_AS NULL CONSTRAINT [DF_1395] DEFAULT (N''),
[_FR0207] [varchar] (2) COLLATE SQL_Latin1_General_CP1_CI_AS NULL CONSTRAINT [DF_FR0207] DEFAULT (N''),
[_60] [varchar] (10) COLLATE SQL_Latin1_General_CP1_CI_AS NULL CONSTRAINT [DF_60] DEFAULT (N''),
[_SYS_X78] [varchar] (1) COLLATE SQL_Latin1_General_CP1_CI_AS NULL CONSTRAINT [DF_SYS_X78] DEFAULT (N''),
[_414] [varchar] (10) COLLATE SQL_Latin1_General_CP1_CI_AS NULL CONSTRAINT [DF_414] DEFAULT (N''),
[_36] [varchar] (64) COLLATE SQL_Latin1_General_CP1_CI_AS NULL CONSTRAINT [DF_36] DEFAULT (N''),
[_LOID] [varchar] (16) COLLATE SQL_Latin1_General_CP1_CI_AS NULL CONSTRAINT [DF_LOID] DEFAULT (N''),
[_CX_ACCTCHECK2_1] [varchar] (10) COLLATE SQL_Latin1_General_CP1_CI_AS NULL CONSTRAINT [DF_CX_ACCTCHECK2_1] DEFAULT (N''),
[_13] [varchar] (64) COLLATE SQL_Latin1_General_CP1_CI_AS NULL CONSTRAINT [DF_13] DEFAULT (N''),
[_CX_LOCKSECONDINFO_2] [varchar] (1) COLLATE SQL_Latin1_General_CP1_CI_AS NULL CONSTRAINT [DF_CX_LOCKSECONDINFO_2] DEFAULT (N''),
[_CX_COMPARETYPE_2] [varchar] (15) COLLATE SQL_Latin1_General_CP1_CI_AS NULL CONSTRAINT [DF_CX_COMPARETYPE_2] DEFAULT (N''),
[_2226] [varchar] (64) COLLATE SQL_Latin1_General_CP1_CI_AS NULL CONSTRAINT [DF_2226] DEFAULT (N''),
[_2984] [varchar] (64) COLLATE SQL_Latin1_General_CP1_CI_AS NULL CONSTRAINT [DF_2984] DEFAULT (N''),
[_2050] [varchar] (64) COLLATE SQL_Latin1_General_CP1_CI_AS NULL CONSTRAINT [DF_2050] DEFAULT (N''),
[_67] [varchar] (10) COLLATE SQL_Latin1_General_CP1_CI_AS NULL CONSTRAINT [DF_67] DEFAULT (N''),
[_VEND_X397] [varchar] (64) COLLATE SQL_Latin1_General_CP1_CI_AS NULL CONSTRAINT [DF_VEND_X397] DEFAULT (N''),
[_CUST63FV] [varchar] (64) COLLATE SQL_Latin1_General_CP1_CI_AS NULL CONSTRAINT [DF_CUST63FV] DEFAULT (N''),
[_2054] [varchar] (64) COLLATE SQL_Latin1_General_CP1_CI_AS NULL CONSTRAINT [DF_2054] DEFAULT (N''),
[LOCKRATE_CURRENTSTATUS] [varchar] (64) COLLATE SQL_Latin1_General_CP1_CI_AS NULL CONSTRAINT [DFLOCKRATE_CURRENTSTATUS] DEFAULT (N''),
[_2233] [varchar] (64) COLLATE SQL_Latin1_General_CP1_CI_AS NULL CONSTRAINT [DF_2233] DEFAULT (N''),
[_2362] [varchar] (64) COLLATE SQL_Latin1_General_CP1_CI_AS NULL CONSTRAINT [DF_2362] DEFAULT (N''),
[_2235] [varchar] (64) COLLATE SQL_Latin1_General_CP1_CI_AS NULL CONSTRAINT [DF_2235] DEFAULT (N''),
[_2237] [varchar] (64) COLLATE SQL_Latin1_General_CP1_CI_AS NULL CONSTRAINT [DF_2237] DEFAULT (N''),
[_2239] [varchar] (64) COLLATE SQL_Latin1_General_CP1_CI_AS NULL CONSTRAINT [DF_2239] DEFAULT (N''),
[_FE0117] [varchar] (17) COLLATE SQL_Latin1_General_CP1_CI_AS NULL CONSTRAINT [DF_FE0117] DEFAULT (N''),
[_CX_TITLEREF_1] [varchar] (25) COLLATE SQL_Latin1_General_CP1_CI_AS NULL CONSTRAINT [DF_CX_TITLEREF_1] DEFAULT (N''),
[_CX_COMPAREOVERFICO_2] [varchar] (1) COLLATE SQL_Latin1_General_CP1_CI_AS NULL CONSTRAINT [DF_CX_COMPAREOVERFICO_2] DEFAULT (N''),
[LOCKRATE_67] [varchar] (64) COLLATE SQL_Latin1_General_CP1_CI_AS NULL CONSTRAINT [DFLOCKRATE_67] DEFAULT (N''),
[_CX_POSTCLOSER_2] [varchar] (64) COLLATE SQL_Latin1_General_CP1_CI_AS NULL CONSTRAINT [DF_CX_POSTCLOSER_2] DEFAULT (N''),
[_CX_PAIDLO_3] [varchar] (40) COLLATE SQL_Latin1_General_CP1_CI_AS NULL CONSTRAINT [DF_CX_PAIDLO_3] DEFAULT (N''),
[_413] [varchar] (22) COLLATE SQL_Latin1_General_CP1_CI_AS NULL CONSTRAINT [DF_413] DEFAULT (N''),
[_CX_CLSTIME_1] [varchar] (10) COLLATE SQL_Latin1_General_CP1_CI_AS NULL CONSTRAINT [DF_CX_CLSTIME_1] DEFAULT (N''),
[_CX_FUNDASSOCOCC_2] [varchar] (5) COLLATE SQL_Latin1_General_CP1_CI_AS NULL CONSTRAINT [DF_CX_FUNDASSOCOCC_2] DEFAULT (N''),
[_SYS_X85] [varchar] (1) COLLATE SQL_Latin1_General_CP1_CI_AS NULL CONSTRAINT [DF_SYS_X85] DEFAULT (N''),
[CurrentTeamMember] [varchar] (64) COLLATE SQL_Latin1_General_CP1_CI_AS NULL CONSTRAINT [DFCurrentTeamMember] DEFAULT (N''),
[_CX_COMPARERATE_2] [varchar] (15) COLLATE SQL_Latin1_General_CP1_CI_AS NULL CONSTRAINT [DF_CX_COMPARERATE_2] DEFAULT (N''),
[_2976] [varchar] (64) COLLATE SQL_Latin1_General_CP1_CI_AS NULL CONSTRAINT [DF_2976] DEFAULT (N''),
[_2356] [varchar] (64) COLLATE SQL_Latin1_General_CP1_CI_AS NULL CONSTRAINT [DF_2356] DEFAULT (N''),
[_SYS_X279] [varchar] (6) COLLATE SQL_Latin1_General_CP1_CI_AS NULL CONSTRAINT [DF_SYS_X279] DEFAULT (N''),
[LoanTeamMember_Name_PostCloser] [varchar] (64) COLLATE SQL_Latin1_General_CP1_CI_AS NULL CONSTRAINT [DFLoanTeamMember_Name_PostCloser] DEFAULT (N''),
[_CX_FUNDCHASEPROP_3] [varchar] (10) COLLATE SQL_Latin1_General_CP1_CI_AS NULL CONSTRAINT [DF_CX_FUNDCHASEPROP_3] DEFAULT (N''),
[_CX_INSURNOTE2_1] [varchar] (100) COLLATE SQL_Latin1_General_CP1_CI_AS NULL CONSTRAINT [DF_CX_INSURNOTE2_1] DEFAULT (N''),
[_SYS_X34] [varchar] (1) COLLATE SQL_Latin1_General_CP1_CI_AS NULL CONSTRAINT [DF_SYS_X34] DEFAULT (N''),
[_CX_SOLLEN_1] [varchar] (3) COLLATE SQL_Latin1_General_CP1_CI_AS NULL CONSTRAINT [DF_CX_SOLLEN_1] DEFAULT (N''),
[_CX_BLANK_2] [varchar] (1) COLLATE SQL_Latin1_General_CP1_CI_AS NULL CONSTRAINT [DF_CX_BLANK_2] DEFAULT (N''),
[_699] [varchar] (14) COLLATE SQL_Latin1_General_CP1_CI_AS NULL CONSTRAINT [DF_699] DEFAULT (N''),
[_CX_FUNDCHASEPROD_3] [varchar] (10) COLLATE SQL_Latin1_General_CP1_CI_AS NULL CONSTRAINT [DF_CX_FUNDCHASEPROD_3] DEFAULT (N''),
[_CX_FUNDCHASEDOC_3] [varchar] (15) COLLATE SQL_Latin1_General_CP1_CI_AS NULL CONSTRAINT [DF_CX_FUNDCHASEDOC_3] DEFAULT (N''),
[_232] [varchar] (10) COLLATE SQL_Latin1_General_CP1_CI_AS NULL CONSTRAINT [DF_232] DEFAULT (N''),
[_CX_UWRUSHCOND_1] [varchar] (64) COLLATE SQL_Latin1_General_CP1_CI_AS NULL CONSTRAINT [DF_CX_UWRUSHCOND_1] DEFAULT (N''),
[_2046] [varchar] (64) COLLATE SQL_Latin1_General_CP1_CI_AS NULL CONSTRAINT [DF_2046] DEFAULT (N''),
[_2351] [varchar] (64) COLLATE SQL_Latin1_General_CP1_CI_AS NULL CONSTRAINT [DF_2351] DEFAULT (N''),
[_CX_FUNDCHASEINV_3] [varchar] (10) COLLATE SQL_Latin1_General_CP1_CI_AS NULL CONSTRAINT [DF_CX_FUNDCHASEINV_3] DEFAULT (N''),
[_CX_COMPAREAMT_2] [varchar] (15) COLLATE SQL_Latin1_General_CP1_CI_AS NULL CONSTRAINT [DF_CX_COMPAREAMT_2] DEFAULT (N''),
[_2224] [varchar] (64) COLLATE SQL_Latin1_General_CP1_CI_AS NULL CONSTRAINT [DF_2224] DEFAULT (N''),
[_317] [varchar] (32) COLLATE SQL_Latin1_General_CP1_CI_AS NULL CONSTRAINT [DF_317] DEFAULT (N''),
[_CUST70FV] [varchar] (64) COLLATE SQL_Latin1_General_CP1_CI_AS NULL CONSTRAINT [DF_CUST70FV] DEFAULT (N''),
[Log_MS_Comments_Approval] [varchar] (64) COLLATE SQL_Latin1_General_CP1_CI_AS NULL CONSTRAINT [DFLog_MS_Comments_Approval] DEFAULT (N''),
[_97] [varchar] (11) COLLATE SQL_Latin1_General_CP1_CI_AS NULL CONSTRAINT [DF_97] DEFAULT (N''),
[_190] [varchar] (64) COLLATE SQL_Latin1_General_CP1_CI_AS NULL CONSTRAINT [DF_190] DEFAULT (N''),
[_VEND_X399] [varchar] (64) COLLATE SQL_Latin1_General_CP1_CI_AS NULL CONSTRAINT [DF_VEND_X399] DEFAULT (N''),
[_348] [varchar] (28) COLLATE SQL_Latin1_General_CP1_CI_AS NULL CONSTRAINT [DF_348] DEFAULT (N''),
[_REGZGFE_X6] [varchar] (2) COLLATE SQL_Latin1_General_CP1_CI_AS NULL CONSTRAINT [DF_REGZGFE_X6] DEFAULT (N''),
[_SYS_X37] [varchar] (1) COLLATE SQL_Latin1_General_CP1_CI_AS NULL CONSTRAINT [DF_SYS_X37] DEFAULT (N''),
[_19] [varchar] (20) COLLATE SQL_Latin1_General_CP1_CI_AS NULL CONSTRAINT [DF_19] DEFAULT (N''),
[_66] [varchar] (17) COLLATE SQL_Latin1_General_CP1_CI_AS NULL CONSTRAINT [DF_66] DEFAULT (N''),
[_CX_CLSRUSH_1] [varchar] (64) COLLATE SQL_Latin1_General_CP1_CI_AS NULL CONSTRAINT [DF_CX_CLSRUSH_1] DEFAULT (N''),
[_VEND_X293] [varchar] (64) COLLATE SQL_Latin1_General_CP1_CI_AS NULL CONSTRAINT [DF_VEND_X293] DEFAULT (N''),
[_154] [varchar] (28) COLLATE SQL_Latin1_General_CP1_CI_AS NULL CONSTRAINT [DF_154] DEFAULT (N''),
[_SYS_X84] [varchar] (1) COLLATE SQL_Latin1_General_CP1_CI_AS NULL CONSTRAINT [DF_SYS_X84] DEFAULT (N''),
[_2961] [varchar] (64) COLLATE SQL_Latin1_General_CP1_CI_AS NULL CONSTRAINT [DF_2961] DEFAULT (N''),
[_CX_FUNDASSOCINDEX_2] [varchar] (15) COLLATE SQL_Latin1_General_CP1_CI_AS NULL CONSTRAINT [DF_CX_FUNDASSOCINDEX_2] DEFAULT (N''),
[_SYS_X33] [varchar] (1) COLLATE SQL_Latin1_General_CP1_CI_AS NULL CONSTRAINT [DF_SYS_X33] DEFAULT (N''),
[_SYS_X287] [varchar] (6) COLLATE SQL_Latin1_General_CP1_CI_AS NULL CONSTRAINT [DF_SYS_X287] DEFAULT (N''),
[_SYS_X289] [varchar] (6) COLLATE SQL_Latin1_General_CP1_CI_AS NULL CONSTRAINT [DF_SYS_X289] DEFAULT (N''),
[_1855] [varchar] (32) COLLATE SQL_Latin1_General_CP1_CI_AS NULL CONSTRAINT [DF_1855] DEFAULT (N''),
[_2048] [varchar] (64) COLLATE SQL_Latin1_General_CP1_CI_AS NULL CONSTRAINT [DF_2048] DEFAULT (N''),
[_CX_COMPARETERM_2] [varchar] (15) COLLATE SQL_Latin1_General_CP1_CI_AS NULL CONSTRAINT [DF_CX_COMPARETERM_2] DEFAULT (N''),
[_1991] [varchar] (64) COLLATE SQL_Latin1_General_CP1_CI_AS NULL CONSTRAINT [DF_1991] DEFAULT (N''),
[_2037] [varchar] (64) COLLATE SQL_Latin1_General_CP1_CI_AS NULL CONSTRAINT [DF_2037] DEFAULT (N''),
[_2039] [varchar] (64) COLLATE SQL_Latin1_General_CP1_CI_AS NULL CONSTRAINT [DF_2039] DEFAULT (N''),
[_2215] [varchar] (64) COLLATE SQL_Latin1_General_CP1_CI_AS NULL CONSTRAINT [DF_2215] DEFAULT (N''),
[_2219] [varchar] (64) COLLATE SQL_Latin1_General_CP1_CI_AS NULL CONSTRAINT [DF_2219] DEFAULT (N''),
[_69] [varchar] (20) COLLATE SQL_Latin1_General_CP1_CI_AS NULL CONSTRAINT [DF_69] DEFAULT (N''),
[_CX_RUSH_1] [varchar] (64) COLLATE SQL_Latin1_General_CP1_CI_AS NULL CONSTRAINT [DF_CX_RUSH_1] DEFAULT (N''),
[_CX_COMPARECLTV_2] [varchar] (15) COLLATE SQL_Latin1_General_CP1_CI_AS NULL CONSTRAINT [DF_CX_COMPARECLTV_2] DEFAULT (N''),
[_CX_FUNDASSOCPURP_2] [varchar] (15) COLLATE SQL_Latin1_General_CP1_CI_AS NULL CONSTRAINT [DF_CX_FUNDASSOCPURP_2] DEFAULT (N''),
[_SYS_X151] [varchar] (1) COLLATE SQL_Latin1_General_CP1_CI_AS NULL CONSTRAINT [DF_SYS_X151] DEFAULT (N''),
[_SYS_X152] [varchar] (1) COLLATE SQL_Latin1_General_CP1_CI_AS NULL CONSTRAINT [DF_SYS_X152] DEFAULT (N''),
[_SYS_X153] [varchar] (1) COLLATE SQL_Latin1_General_CP1_CI_AS NULL CONSTRAINT [DF_SYS_X153] DEFAULT (N''),
[_SYS_X154] [varchar] (1) COLLATE SQL_Latin1_General_CP1_CI_AS NULL CONSTRAINT [DF_SYS_X154] DEFAULT (N''),
[_SYS_X155] [varchar] (1) COLLATE SQL_Latin1_General_CP1_CI_AS NULL CONSTRAINT [DF_SYS_X155] DEFAULT (N''),
[_SYS_X156] [varchar] (1) COLLATE SQL_Latin1_General_CP1_CI_AS NULL CONSTRAINT [DF_SYS_X156] DEFAULT (N''),
[_1490] [varchar] (17) COLLATE SQL_Latin1_General_CP1_CI_AS NULL CONSTRAINT [DF_1490] DEFAULT (N''),
[_1393] [varchar] (52) COLLATE SQL_Latin1_General_CP1_CI_AS NULL CONSTRAINT [DF_1393] DEFAULT (N''),
[_1174] [varchar] (2) COLLATE SQL_Latin1_General_CP1_CI_AS NULL CONSTRAINT [DF_1174] DEFAULT (N''),
[_CX_SOLLENEMAIL_2] [varchar] (50) COLLATE SQL_Latin1_General_CP1_CI_AS NULL CONSTRAINT [DF_CX_SOLLENEMAIL_2] DEFAULT (N''),
[_700] [varchar] (14) COLLATE SQL_Latin1_General_CP1_CI_AS NULL CONSTRAINT [DF_700] DEFAULT (N''),
[_424] [varchar] (30) COLLATE SQL_Latin1_General_CP1_CI_AS NULL CONSTRAINT [DF_424] DEFAULT (N''),
[_CX_FUNDCHASEOCC_3] [varchar] (1) COLLATE SQL_Latin1_General_CP1_CI_AS NULL CONSTRAINT [DF_CX_FUNDCHASEOCC_3] DEFAULT (N''),
[_122] [varchar] (8) COLLATE SQL_Latin1_General_CP1_CI_AS NULL CONSTRAINT [DF_122] DEFAULT (N''),
[_37] [varchar] (20) COLLATE SQL_Latin1_General_CP1_CI_AS NULL CONSTRAINT [DF_37] DEFAULT (N''),
[_SYS_X83] [varchar] (1) COLLATE SQL_Latin1_General_CP1_CI_AS NULL CONSTRAINT [DF_SYS_X83] DEFAULT (N''),
[_1500] [varchar] (16) COLLATE SQL_Latin1_General_CP1_CI_AS NULL CONSTRAINT [DF_1500] DEFAULT (N''),
[_FR0308] [varchar] (10) COLLATE SQL_Latin1_General_CP1_CI_AS NULL CONSTRAINT [DF_FR0308] DEFAULT (N''),
[_FR0208] [varchar] (10) COLLATE SQL_Latin1_General_CP1_CI_AS NULL CONSTRAINT [DF_FR0208] DEFAULT (N''),
[_CX_COMPAREDOC_2] [varchar] (15) COLLATE SQL_Latin1_General_CP1_CI_AS NULL CONSTRAINT [DF_CX_COMPAREDOC_2] DEFAULT (N''),
[LOCKRATE_MORNET_X67] [varchar] (64) COLLATE SQL_Latin1_General_CP1_CI_AS NULL CONSTRAINT [DFLOCKRATE_MORNET_X67] DEFAULT (N''),
[_SYS_X18] [varchar] (1) COLLATE SQL_Latin1_General_CP1_CI_AS NULL CONSTRAINT [DF_SYS_X18] DEFAULT (N''),
[_14] [varchar] (2) COLLATE SQL_Latin1_General_CP1_CI_AS NULL CONSTRAINT [DF_14] DEFAULT (N''),
[_CX_PCSUPENDREASON_1] [varchar] (64) COLLATE SQL_Latin1_General_CP1_CI_AS NULL CONSTRAINT [DF_CX_PCSUPENDREASON_1] DEFAULT (N''),
[_CX_COMPAREPROP_2] [varchar] (15) COLLATE SQL_Latin1_General_CP1_CI_AS NULL CONSTRAINT [DF_CX_COMPAREPROP_2] DEFAULT (N''),
[_384] [varchar] (20) COLLATE SQL_Latin1_General_CP1_CI_AS NULL CONSTRAINT [DF_384] DEFAULT (N''),
[_230] [varchar] (10) COLLATE SQL_Latin1_General_CP1_CI_AS NULL CONSTRAINT [DF_230] DEFAULT (N''),
[_CX_COMPAREPURPX_2] [varchar] (15) COLLATE SQL_Latin1_General_CP1_CI_AS NULL CONSTRAINT [DF_CX_COMPAREPURPX_2] DEFAULT (N''),
[_2025] [varchar] (64) COLLATE SQL_Latin1_General_CP1_CI_AS NULL CONSTRAINT [DF_2025] DEFAULT (N''),
[_2024] [varchar] (64) COLLATE SQL_Latin1_General_CP1_CI_AS NULL CONSTRAINT [DF_2024] DEFAULT (N''),
[_SYS_X290] [varchar] (8) COLLATE SQL_Latin1_General_CP1_CI_AS NULL CONSTRAINT [DF_SYS_X290] DEFAULT (N''),
[_CX_ACCTCHECK1_1] [varchar] (10) COLLATE SQL_Latin1_General_CP1_CI_AS NULL CONSTRAINT [DF_CX_ACCTCHECK1_1] DEFAULT (N''),
[_1041] [varchar] (28) COLLATE SQL_Latin1_General_CP1_CI_AS NULL CONSTRAINT [DF_1041] DEFAULT (N''),
[_1040] [varchar] (16) COLLATE SQL_Latin1_General_CP1_CI_AS NULL CONSTRAINT [DF_1040] DEFAULT (N''),
[_CUST72FV] [varchar] (64) COLLATE SQL_Latin1_General_CP1_CI_AS NULL CONSTRAINT [DF_CUST72FV] DEFAULT (N''),
[_CX_FHAINSURER_1] [varchar] (64) COLLATE SQL_Latin1_General_CP1_CI_AS NULL CONSTRAINT [DF_CX_FHAINSURER_1] DEFAULT (N''),
[_2281] [varchar] (64) COLLATE SQL_Latin1_General_CP1_CI_AS NULL CONSTRAINT [DF_2281] DEFAULT (N''),
[_2282] [varchar] (64) COLLATE SQL_Latin1_General_CP1_CI_AS NULL CONSTRAINT [DF_2282] DEFAULT (N''),
[_2286] [varchar] (64) COLLATE SQL_Latin1_General_CP1_CI_AS NULL CONSTRAINT [DF_2286] DEFAULT (N''),
[_MS_STATUS] [varchar] (64) COLLATE SQL_Latin1_General_CP1_CI_AS NULL CONSTRAINT [DF_MS_STATUS] DEFAULT (N''),
[_2288] [varchar] (64) COLLATE SQL_Latin1_General_CP1_CI_AS NULL CONSTRAINT [DF_2288] DEFAULT (N''),
[_CX_FUNDASSOCDOC_2] [varchar] (5) COLLATE SQL_Latin1_General_CP1_CI_AS NULL CONSTRAINT [DF_CX_FUNDASSOCDOC_2] DEFAULT (N''),
[_1484] [varchar] (10) COLLATE SQL_Latin1_General_CP1_CI_AS NULL CONSTRAINT [DF_1484] DEFAULT (N''),
[_MORNET_X15] [varchar] (1) COLLATE SQL_Latin1_General_CP1_CI_AS NULL CONSTRAINT [DF_MORNET_X15] DEFAULT (N''),
[_SYS_X82] [varchar] (1) COLLATE SQL_Latin1_General_CP1_CI_AS NULL CONSTRAINT [DF_SYS_X82] DEFAULT (N''),
[_SYS_X31] [varchar] (1) COLLATE SQL_Latin1_General_CP1_CI_AS NULL CONSTRAINT [DF_SYS_X31] DEFAULT (N''),
[_SYS_X17] [varchar] (1) COLLATE SQL_Latin1_General_CP1_CI_AS NULL CONSTRAINT [DF_SYS_X17] DEFAULT (N''),
[_SYS_X280] [varchar] (8) COLLATE SQL_Latin1_General_CP1_CI_AS NULL CONSTRAINT [DF_SYS_X280] DEFAULT (N''),
[_SYS_X150] [varchar] (1) COLLATE SQL_Latin1_General_CP1_CI_AS NULL CONSTRAINT [DF_SYS_X150] DEFAULT (N''),
[_1240] [varchar] (45) COLLATE SQL_Latin1_General_CP1_CI_AS NULL CONSTRAINT [DF_1240] DEFAULT (N''),
[_MORNET_X4] [varchar] (20) COLLATE SQL_Latin1_General_CP1_CI_AS NULL CONSTRAINT [DF_MORNET_X4] DEFAULT (N''),
[_CX_DOCMAGIC_TITLE_ONLY] [varchar] (100) COLLATE SQL_Latin1_General_CP1_CI_AS NULL CONSTRAINT [DF_CX_DOCMAGIC_TITLE_ONLY] DEFAULT (N''),
[_CX_UWINVALPRGPRD] [varchar] (1) COLLATE SQL_Latin1_General_CP1_CI_AS NULL CONSTRAINT [DF_CX_UWINVALPRGPRD] DEFAULT (N''),
[_CX_UWPIECEMAILCOND] [varchar] (1) COLLATE SQL_Latin1_General_CP1_CI_AS NULL CONSTRAINT [DF_CX_UWPIECEMAILCOND] DEFAULT (N''),
[_CX_UWMISCINTSUB] [varchar] (1) COLLATE SQL_Latin1_General_CP1_CI_AS NULL CONSTRAINT [DF_CX_UWMISCINTSUB] DEFAULT (N''),
[_CX_UWINVALAUS] [varchar] (1) COLLATE SQL_Latin1_General_CP1_CI_AS NULL CONSTRAINT [DF_CX_UWINVALAUS] DEFAULT (N''),
[_CX_UWMULTIRESTR] [varchar] (1) COLLATE SQL_Latin1_General_CP1_CI_AS NULL CONSTRAINT [DF_CX_UWMULTIRESTR] DEFAULT (N''),
[_CX_UWDOCNOTSUPPAUS] [varchar] (1) COLLATE SQL_Latin1_General_CP1_CI_AS NULL CONSTRAINT [DF_CX_UWDOCNOTSUPPAUS] DEFAULT (N''),
[_CX_UWINCOMCREDITDOC] [varchar] (1) COLLATE SQL_Latin1_General_CP1_CI_AS NULL CONSTRAINT [DF_CX_UWINCOMCREDITDOC] DEFAULT (N''),
[_CX_UWMISCRESUB] [varchar] (1) COLLATE SQL_Latin1_General_CP1_CI_AS NULL CONSTRAINT [DF_CX_UWMISCRESUB] DEFAULT (N''),
[_CX_APPRORDERCOCONTACTPHN_4] [varchar] (17) COLLATE SQL_Latin1_General_CP1_CI_AS NULL CONSTRAINT [DF_CX_APPRORDERCOCONTACTPHN_4] DEFAULT (N''),
[_CX_APPRORDERCOCITY2_4] [varchar] (25) COLLATE SQL_Latin1_General_CP1_CI_AS NULL CONSTRAINT [DF_CX_APPRORDERCOCITY2_4] DEFAULT (N''),
[_CX_PCSUPENDREASON_5] [varchar] (1) COLLATE SQL_Latin1_General_CP1_CI_AS NULL CONSTRAINT [DF_CX_PCSUPENDREASON_5] DEFAULT (N''),
[_CX_PCSUPENDREASON_4] [varchar] (1) COLLATE SQL_Latin1_General_CP1_CI_AS NULL CONSTRAINT [DF_CX_PCSUPENDREASON_4] DEFAULT (N''),
[_CX_APPRORDERCOCONTMAIL2_4] [varchar] (50) COLLATE SQL_Latin1_General_CP1_CI_AS NULL CONSTRAINT [DF_CX_APPRORDERCOCONTMAIL2_4] DEFAULT (N''),
[_CX_APPRORDFMTYPE_4] [varchar] (64) COLLATE SQL_Latin1_General_CP1_CI_AS NULL CONSTRAINT [DF_CX_APPRORDFMTYPE_4] DEFAULT (N''),
[_CX_APPRORDERCOCONTACTN_4] [varchar] (25) COLLATE SQL_Latin1_General_CP1_CI_AS NULL CONSTRAINT [DF_CX_APPRORDERCOCONTACTN_4] DEFAULT (N''),
[_CX_APPRTYPE_4] [varchar] (50) COLLATE SQL_Latin1_General_CP1_CI_AS NULL CONSTRAINT [DF_CX_APPRTYPE_4] DEFAULT (N''),
[_CX_PCSUPENDREASON_9] [varchar] (1) COLLATE SQL_Latin1_General_CP1_CI_AS NULL CONSTRAINT [DF_CX_PCSUPENDREASON_9] DEFAULT (N''),
[_CX_PCSUPENDREASON_3] [varchar] (1) COLLATE SQL_Latin1_General_CP1_CI_AS NULL CONSTRAINT [DF_CX_PCSUPENDREASON_3] DEFAULT (N''),
[_3237] [varchar] (64) COLLATE SQL_Latin1_General_CP1_CI_AS NULL CONSTRAINT [DF_3237] DEFAULT (N''),
[_3238] [varchar] (64) COLLATE SQL_Latin1_General_CP1_CI_AS NULL CONSTRAINT [DF_3238] DEFAULT (N''),
[LOCKRATE_2204] [varchar] (64) COLLATE SQL_Latin1_General_CP1_CI_AS NULL CONSTRAINT [DFLOCKRATE_2204] DEFAULT (N''),
[_CX_PCSUPENDREASON_7] [varchar] (1) COLLATE SQL_Latin1_General_CP1_CI_AS NULL CONSTRAINT [DF_CX_PCSUPENDREASON_7] DEFAULT (N''),
[_CX_APPRORDERCOCONTACTPHN2_4] [varchar] (17) COLLATE SQL_Latin1_General_CP1_CI_AS NULL CONSTRAINT [DF_CX_APPRORDERCOCONTACTPHN2_4] DEFAULT (N''),
[_CX_PCSUPENDREASON_6] [varchar] (1) COLLATE SQL_Latin1_General_CP1_CI_AS NULL CONSTRAINT [DF_CX_PCSUPENDREASON_6] DEFAULT (N''),
[_CX_APPRORDERCOST2_4] [varchar] (2) COLLATE SQL_Latin1_General_CP1_CI_AS NULL CONSTRAINT [DF_CX_APPRORDERCOST2_4] DEFAULT (N''),
[_CX_PCSUPENDREASON_8] [varchar] (1) COLLATE SQL_Latin1_General_CP1_CI_AS NULL CONSTRAINT [DF_CX_PCSUPENDREASON_8] DEFAULT (N''),
[_CX_APPRORDERCOCONTACTEMAIL_4] [varchar] (50) COLLATE SQL_Latin1_General_CP1_CI_AS NULL CONSTRAINT [DF_CX_APPRORDERCOCONTACTEMAIL_4] DEFAULT (N''),
[_3243] [varchar] (16) COLLATE SQL_Latin1_General_CP1_CI_AS NULL CONSTRAINT [DF_3243] DEFAULT (N''),
[_CX_PCSUPENDREASON_2] [varchar] (1) COLLATE SQL_Latin1_General_CP1_CI_AS NULL CONSTRAINT [DF_CX_PCSUPENDREASON_2] DEFAULT (N''),
[_CX_APPRORDERCO2_4] [varchar] (50) COLLATE SQL_Latin1_General_CP1_CI_AS NULL CONSTRAINT [DF_CX_APPRORDERCO2_4] DEFAULT (N''),
[_CX_APPRCOMMENTS2_4] [varchar] (400) COLLATE SQL_Latin1_General_CP1_CI_AS NULL CONSTRAINT [DF_CX_APPRCOMMENTS2_4] DEFAULT (N''),
[_CX_APPRCFEPHONE2_4] [varchar] (17) COLLATE SQL_Latin1_General_CP1_CI_AS NULL CONSTRAINT [DF_CX_APPRCFEPHONE2_4] DEFAULT (N''),
[_CX_APPRORDFMCFE_4] [varchar] (25) COLLATE SQL_Latin1_General_CP1_CI_AS NULL CONSTRAINT [DF_CX_APPRORDFMCFE_4] DEFAULT (N''),
[_CX_APPRRUSHORD] [varchar] (1) COLLATE SQL_Latin1_General_CP1_CI_AS NULL CONSTRAINT [DF_CX_APPRRUSHORD] DEFAULT (N''),
[_CX_APPRORDFMRUSH_4] [varchar] (1) COLLATE SQL_Latin1_General_CP1_CI_AS NULL CONSTRAINT [DF_CX_APPRORDFMRUSH_4] DEFAULT (N''),
[_CX_APPRORDFMRUSH2_4] [varchar] (1) COLLATE SQL_Latin1_General_CP1_CI_AS NULL CONSTRAINT [DF_CX_APPRORDFMRUSH2_4] DEFAULT (N''),
[_CX_APPRCFE2_4] [varchar] (25) COLLATE SQL_Latin1_General_CP1_CI_AS NULL CONSTRAINT [DF_CX_APPRCFE2_4] DEFAULT (N''),
[_CX_APPRORDFMCFEEMAIL_4] [varchar] (50) COLLATE SQL_Latin1_General_CP1_CI_AS NULL CONSTRAINT [DF_CX_APPRORDFMCFEEMAIL_4] DEFAULT (N''),
[_CX_APPRCFEEMAIL1_4] [varchar] (50) COLLATE SQL_Latin1_General_CP1_CI_AS NULL CONSTRAINT [DF_CX_APPRCFEEMAIL1_4] DEFAULT (N''),
[_CX_APPRCFEEMAIL2_4] [varchar] (50) COLLATE SQL_Latin1_General_CP1_CI_AS NULL CONSTRAINT [DF_CX_APPRCFEEMAIL2_4] DEFAULT (N''),
[_CX_APPRCFE1_4] [varchar] (25) COLLATE SQL_Latin1_General_CP1_CI_AS NULL CONSTRAINT [DF_CX_APPRCFE1_4] DEFAULT (N''),
[_CX_APPRCFEPHONE1_4] [varchar] (17) COLLATE SQL_Latin1_General_CP1_CI_AS NULL CONSTRAINT [DF_CX_APPRCFEPHONE1_4] DEFAULT (N''),
[_CX_APPRORDFMCFEPHONE_4] [varchar] (17) COLLATE SQL_Latin1_General_CP1_CI_AS NULL CONSTRAINT [DF_CX_APPRORDFMCFEPHONE_4] DEFAULT (N''),
[_CX_CLSLOCK] [varchar] (1) COLLATE SQL_Latin1_General_CP1_CI_AS NULL CONSTRAINT [DF_CX_CLSLOCK] DEFAULT (N''),
[_CX_WHCSFB] [varchar] (25) COLLATE SQL_Latin1_General_CP1_CI_AS NULL CONSTRAINT [DF_CX_WHCSFB] DEFAULT (N''),
[_CX_WHHINSDALE] [varchar] (25) COLLATE SQL_Latin1_General_CP1_CI_AS NULL CONSTRAINT [DF_CX_WHHINSDALE] DEFAULT (N''),
[_CX_2NDOK] [varchar] (1) COLLATE SQL_Latin1_General_CP1_CI_AS NULL CONSTRAINT [DF_CX_2NDOK] DEFAULT (N''),
[_985] [varchar] (1) COLLATE SQL_Latin1_General_CP1_CI_AS NULL CONSTRAINT [DF_985] DEFAULT (N''),
[_CX_CLSTITLEISSUE] [varchar] (1) COLLATE SQL_Latin1_General_CP1_CI_AS NULL CONSTRAINT [DF_CX_CLSTITLEISSUE] DEFAULT (N''),
[_CX_WHGMAC] [varchar] (25) COLLATE SQL_Latin1_General_CP1_CI_AS NULL CONSTRAINT [DF_CX_WHGMAC] DEFAULT (N''),
[_CX_CLSMISSFRMPAP] [varchar] (1) COLLATE SQL_Latin1_General_CP1_CI_AS NULL CONSTRAINT [DF_CX_CLSMISSFRMPAP] DEFAULT (N''),
[_610] [varchar] (50) COLLATE SQL_Latin1_General_CP1_CI_AS NULL CONSTRAINT [DF_610] DEFAULT (N''),
[_412] [varchar] (50) COLLATE SQL_Latin1_General_CP1_CI_AS NULL CONSTRAINT [DF_412] DEFAULT (N''),
[_612] [varchar] (50) COLLATE SQL_Latin1_General_CP1_CI_AS NULL CONSTRAINT [DF_612] DEFAULT (N''),
[_11] [varchar] (50) COLLATE SQL_Latin1_General_CP1_CI_AS NULL CONSTRAINT [DF_11] DEFAULT (N''),
[_FR0104] [varchar] (50) COLLATE SQL_Latin1_General_CP1_CI_AS NULL CONSTRAINT [DF_FR0104] DEFAULT (N''),
[LoanTeamMember_Name_LoanCoordinator] [varchar] (64) COLLATE SQL_Latin1_General_CP1_CI_AS NULL CONSTRAINT [DFLoanTeamMember_Name_LoanCoordinator] DEFAULT (N''),
[_1268] [varchar] (45) COLLATE SQL_Latin1_General_CP1_CI_AS NULL CONSTRAINT [DF_1268] DEFAULT (N''),
[_984] [varchar] (64) COLLATE SQL_Latin1_General_CP1_CI_AS NULL CONSTRAINT [DF_984] DEFAULT (N''),
[_CX_RUSH_UW_CMNTS_APRVL_4] [varchar] (500) COLLATE SQL_Latin1_General_CP1_CI_AS NULL CONSTRAINT [DF_CX_RUSH_UW_CMNTS_APRVL_4] DEFAULT (N''),
[_CX_RUSH_UW_CMNTS_APRVL_1] [varchar] (500) COLLATE SQL_Latin1_General_CP1_CI_AS NULL CONSTRAINT [DF_CX_RUSH_UW_CMNTS_APRVL_1] DEFAULT (N''),
[_LE3_X5] [varchar] (64) COLLATE SQL_Latin1_General_CP1_CI_AS NULL CONSTRAINT [DF_LE3_X5] DEFAULT (N''),
[_NEWHUD2_X7] [varchar] (64) COLLATE SQL_Latin1_General_CP1_CI_AS NULL CONSTRAINT [DF_NEWHUD2_X7] DEFAULT (N''),
[_CD3_X13] [varchar] (64) COLLATE SQL_Latin1_General_CP1_CI_AS NULL CONSTRAINT [DF_CD3_X13] DEFAULT (N''),
[_CD3_X9] [varchar] (64) COLLATE SQL_Latin1_General_CP1_CI_AS NULL CONSTRAINT [DF_CD3_X9] DEFAULT (N''),
[_CX_CHKREQTIME_2] [varchar] (20) COLLATE SQL_Latin1_General_CP1_CI_AS NULL CONSTRAINT [DF_CX_CHKREQTIME_2] DEFAULT (N''),
[_NEWHUD2_X656] [varchar] (1) COLLATE SQL_Latin1_General_CP1_CI_AS NULL CONSTRAINT [DF_NEWHUD2_X656] DEFAULT (N''),
[_NEWHUD2_X2669] [varchar] (1) COLLATE SQL_Latin1_General_CP1_CI_AS NULL CONSTRAINT [DF_NEWHUD2_X2669] DEFAULT (N'')
) ON [PRIMARY]
GO
SET QUOTED_IDENTIFIER ON
GO
SET ANSI_NULLS ON
GO

CREATE TRIGGER [emdbuser].[ti_LOANXDB_S_01_Forklift_LoanSummary]
   ON  [emdbuser].[LOANXDB_S_01]
   AFTER INSERT
AS 
BEGIN
	-- SET NOCOUNT ON added to prevent extra result sets from
	-- interfering with SELECT statements.
	SET NOCOUNT ON;
	SET TRANSACTION ISOLATION LEVEL READ UNCOMMITTED;

	IF NOT EXISTS( SELECT 1 FROM emdbuser.LoanSummary ls JOIN inserted i ON i.XRefID = ls.XRefID)
	BEGIN

		INSERT INTO emdbuser.LoanSummary([Guid]
										,[LoanNumber]
										,[LoanFolder] 
										,[LoanName]
										,[Status]
										,[loanStatus]
										,[RateLockStatus]
										,[RateIsLocked]
										,[Investor]
										,[Broker]
										,XRefID
										,LastModified
										,Address1
										,State
										,BorrowerFirstName
										,BorrowerLastName
										,CoBorrowerFirstName
										,CoBorrowerLastName
										,LoanOfficerId
										,LoanPurpose
										,EscrowVendor
										,FloodVendor
										,ActionTaken
										,CensusTract
										,MSA
										,LoanCloserName
										,OccupancyStatus
										,PropertyType
										,InvestorStatus
										,Amortization
										,LoanSource
										,DateCreated
										,BuySideCommitted
										,SellSideCommitted
										,CurrentMilestoneName
										,CurrentMilestoneID
										,EscrowWaived
										,LoanProcessorId
										,NextMilestoneName
										,NextMilestoneID
										,NextMilestoneDate
										,CurrentCoreMilestoneName
										,NextCoreMilestoneName
										,PrevMilestoneGroupDate)
		SELECT NEWID()
			  ,''
			  ,''
			  ,NEWID()
			  ,'A'
			  ,CASE 
					WHEN _1393 = 'Active Loan' THEN 0
					WHEN _1393 = 'Application denied' THEN 3
					WHEN _1393 = 'Application withdrawn' THEN 4
					WHEN _1393 = 'File Closed for incompleteness' THEN 5
					WHEN _1393 = 'Loan Originated' THEN 1
					WHEN _1393 = 'Application approved but not accepted' THEN 2
					WHEN _1393 = 'Preapproval request approved but not accepted' THEN 8
					WHEN _1393 = 'Preapproval request denied by financial institution' THEN 7
					WHEN _1393 = 'Loan purchased by your institution' THEN 6
					ELSE ''
				END
			  ,''
			  ,''
			  ,''
			  ,_VEND_X293
			  ,i.XRefID
			  ,GETDATE()
			  ,_11
			  ,_14
			  ,CAST(_36 AS VARCHAR(50))
			  ,CAST(_37 AS VARCHAR(50))
			  ,_68
			  ,_69
			  ,_LOID
			  ,_19
			  ,_610
			  ,_1500
			  ,_1393
			  ,_700
			  ,_699
			  ,_1855
			  ,_1811
			  ,_1041
			  ,LOCKRATE_CURRENTSTATUS
			  ,CAST(_2024 AS varchar(20))
			  ,_2024
			  ,_2025
			  ,CASE WHEN ISNULL(_2215,'') = '' THEN 'N' ELSE 'Y' END
			  ,CASE WHEN ISNULL(_2286,'') = '' THEN 'N' ELSE 'Y' END
			  ,_MS_STATUS
			  ,CASE
					WHEN _MS_STATUS = 'Started' THEN '1'
					WHEN _MS_STATUS = 'Sent to processing' THEN '2'
					WHEN _MS_STATUS = 'Submitted' THEN '3'
					WHEN _MS_STATUS = 'Approved' THEN '4'
					WHEN _MS_STATUS = 'Doc signed' THEN '5'
					WHEN _MS_STATUS = 'Funded' THEN '6'
					WHEN _MS_STATUS = 'Completed' THEN '7'
					WHEN _MS_STATUS = 'App Fee Collected' THEN '328f032f-59e0-4e7c-aedc-034086f916f3'
					WHEN _MS_STATUS = 'Assigned to UW' THEN '004656b8-a4eb-4973-9c4e-de557d769a09'
					WHEN _MS_STATUS = 'Conditions Submitted to UW' THEN '80dcf250-3c95-4673-a726-160eec345f49'
					WHEN _MS_STATUS = 'UW Decision Expected' THEN '3c34f220-44ec-412c-80a8-5f4dcf4b18d5'
					WHEN _MS_STATUS = 'Assign to Close' THEN '94c0f1c9-9ead-44da-86c4-886bc19e77ae'
					WHEN _MS_STATUS = 'Shipping' THEN '70367ac9-ec21-4be4-a548-8d5710eb6cee'
					ELSE ''
			   END
			  ,CASE WHEN _2293 = 'Waived' THEN 'Y' ELSE 'N' END
			  ,CurrentTeamMember
			  ,NextMilestoneName = CASE
										WHEN _MS_STATUS = 'App Fee Collected' THEN 'Assigned to UW'
										WHEN _MS_STATUS = 'Approval' THEN 'Assign to Close'
										WHEN _MS_STATUS = 'Assign to Close' THEN 'Docs Signing'
										WHEN _MS_STATUS = 'Assigned to UW' THEN 'Submittal'
										WHEN _MS_STATUS = 'Completion' THEN ''
										WHEN _MS_STATUS = 'Conditions Submitted to UW' THEN 'Approval'
										WHEN _MS_STATUS = 'Docs Signing' THEN 'Funding'
										WHEN _MS_STATUS = 'File started' THEN NULL
										WHEN _MS_STATUS = 'Funding' THEN 'Shipping'
										WHEN _MS_STATUS = 'Processing' THEN 'App Fee Collected'
										WHEN _MS_STATUS = 'Shipping' THEN 'Completion'
										WHEN _MS_STATUS = 'Started' THEN 'Processing'
										WHEN _MS_STATUS = 'Submittal' THEN 'UW Decision Expected'
										WHEN _MS_STATUS = 'UW Decision Expected' THEN 'Conditions Submitted to UW'
										ELSE 'Unknown'
								   END
			  ,NextMilestoneID = CASE
										WHEN _MS_STATUS = 'App Fee Collected' THEN '004656b8-a4eb-4973-9c4e-de557d769a09'
										WHEN _MS_STATUS = 'Approval' THEN '94c0f1c9-9ead-44da-86c4-886bc19e77ae'
										WHEN _MS_STATUS = 'Assign to Close' THEN '5'
										WHEN _MS_STATUS = 'Assigned to UW' THEN '3'
										WHEN _MS_STATUS = 'Completion' THEN NULL
										WHEN _MS_STATUS = 'Conditions Submitted to UW' THEN '4'
										WHEN _MS_STATUS = 'Docs Signing' THEN '6'
										WHEN _MS_STATUS = 'File started' THEN NULL
										WHEN _MS_STATUS = 'Funding' THEN '70367ac9-ec21-4be4-a548-8d5710eb6cee'
										WHEN _MS_STATUS = 'Processing' THEN '328f032f-59e0-4e7c-aedc-034086f916f3'
										WHEN _MS_STATUS = 'Shipping' THEN '7'
										WHEN _MS_STATUS = 'Started' THEN '2'
										WHEN _MS_STATUS = 'Submittal' THEN '3c34f220-44ec-412c-80a8-5f4dcf4b18d5'
										WHEN _MS_STATUS = 'UW Decision Expected' THEN '80dcf250-3c95-4673-a726-160eec345f49'
										ELSE '999'
								   END
			  ,NextMilestoneDate = CASE
										WHEN _MS_STATUS = 'App Fee Collected' THEN DATEADD(day,1,ISNULL(d04._MS_STATUSDATE,GETDATE()))
										WHEN _MS_STATUS = 'Approval' THEN DATEADD(day,1,ISNULL(d04._MS_STATUSDATE,GETDATE()))
										WHEN _MS_STATUS = 'Assign to Close' THEN DATEADD(day,3,ISNULL(d04._MS_STATUSDATE,GETDATE()))
										WHEN _MS_STATUS = 'Assigned to UW' THEN DATEADD(day,7,ISNULL(d04._MS_STATUSDATE,GETDATE()))
										WHEN _MS_STATUS = 'Completion' THEN NULL
										WHEN _MS_STATUS = 'Conditions Submitted to UW' THEN DATEADD(day,5,ISNULL(d04._MS_STATUSDATE,GETDATE()))
										WHEN _MS_STATUS = 'Docs Signing' THEN DATEADD(day,4,ISNULL(d04._MS_STATUSDATE,GETDATE()))
										WHEN _MS_STATUS = 'File started' THEN NULL
										WHEN _MS_STATUS = 'Funding' THEN DATEADD(day,3,ISNULL(d04._MS_STATUSDATE,GETDATE()))
										WHEN _MS_STATUS = 'Processing' THEN DATEADD(day,0,ISNULL(d04._MS_STATUSDATE,GETDATE()))
										WHEN _MS_STATUS = 'Shipping' THEN DATEADD(day,0,ISNULL(d04._MS_STATUSDATE,GETDATE()))
										WHEN _MS_STATUS = 'Started' THEN DATEADD(day,14,ISNULL(d04._MS_STATUSDATE,GETDATE()))
										WHEN _MS_STATUS = 'Submittal' THEN DATEADD(day,5,ISNULL(d04._MS_STATUSDATE,GETDATE()))
										WHEN _MS_STATUS = 'UW Decision Expected' THEN DATEADD(day,3,ISNULL(d04._MS_STATUSDATE,GETDATE()))
										ELSE NULL
								   END
			  ,_MS_STATUS
			  ,NextCoreMilestoneName = CASE
											WHEN _MS_STATUS = 'App Fee Collected' THEN 'Assigned to UW'
											WHEN _MS_STATUS = 'Approval' THEN 'Assign to Close'
											WHEN _MS_STATUS = 'Assign to Close' THEN 'Docs Signing'
											WHEN _MS_STATUS = 'Assigned to UW' THEN 'Submittal'
											WHEN _MS_STATUS = 'Completion' THEN ''
											WHEN _MS_STATUS = 'Conditions Submitted to UW' THEN 'Approval'
											WHEN _MS_STATUS = 'Docs Signing' THEN 'Funding'
											WHEN _MS_STATUS = 'File started' THEN NULL
											WHEN _MS_STATUS = 'Funding' THEN 'Shipping'
											WHEN _MS_STATUS = 'Processing' THEN 'App Fee Collected'
											WHEN _MS_STATUS = 'Shipping' THEN 'Completion'
											WHEN _MS_STATUS = 'Started' THEN 'Processing'
											WHEN _MS_STATUS = 'Submittal' THEN 'UW Decision Expected'
											WHEN _MS_STATUS = 'UW Decision Expected' THEN 'Conditions Submitted to UW'
											ELSE 'Unknown'
									   END
			  ,PrevMilestoneGroupDate = CASE
											WHEN _MS_STATUS = 'Assigned to UW'  THEN Log_MS_Date_AppFeeCollected  --LOANXDB_D_04
											WHEN _MS_STATUS = 'Assign to Close' THEN Log_MS_Date_Approval  --LOANXDB_D_01
											WHEN _MS_STATUS = 'Docs Signing'  THEN Log_MS_Date_AssigntoClose  --LOANXDB_D_02
											WHEN _MS_STATUS = 'Submittal'  THEN Log_MS_Date_AssignedtoUW  --LOANXDB_D_01
											WHEN _MS_STATUS = ''  THEN Log_MS_Date_Completion  --LOANXDB_D_01
											WHEN _MS_STATUS = 'Approval' THEN Log_MS_Date_ConditionsSubmittedtoUW  --LOANXDB_D_02
											WHEN _MS_STATUS = 'Funding' THEN Log_MS_Date_DocsSigning  --LOANXDB_D_01
											WHEN _MS_STATUS = NULL THEN Log_MS_DateTime_Started  --LOANXDB_D_05
											WHEN _MS_STATUS = 'Shipping' THEN Log_MS_Date_Funding  --LOANXDB_D_01
											WHEN _MS_STATUS = 'App Fee Collected' THEN Log_MS_Date_Processing  --LOANXDB_D_04
											WHEN _MS_STATUS = 'Completion' THEN Log_MS_Date_Shipping  --LOANXDB_D_03
											WHEN _MS_STATUS = 'Processing' THEN Log_MS_DateTime_Started  --LOANXDB_D_05
											WHEN _MS_STATUS = 'UW Decision Expected' THEN Log_MS_Date_submittal  --LOANXDB_D_01
											WHEN _MS_STATUS = 'Conditions Submitted to UW' THEN Log_MS_Date_UWDecisionExpected  --LOANXDB_D_02
											ELSE NULL
										END
		FROM inserted i
		LEFT JOIN emdbuser.LOANXDB_D_01 d01 ON d01.XRefID = i.XRefID
		LEFT JOIN emdbuser.LOANXDB_D_02 d02 ON d02.XRefID = i.XRefID
		LEFT JOIN emdbuser.LOANXDB_D_03 d03 ON d03.XRefID = i.XRefID
		LEFT JOIN emdbuser.LOANXDB_D_04 d04 ON d04.XRefID = i.XRefID
		LEFT JOIN emdbuser.LOANXDB_D_05 d05 ON d05.XRefID = i.XRefID

	END
	ELSE

		UPDATE ls
		SET  Address1 = i._11
			,State = i._14
			,BorrowerFirstName = CAST(_36 AS VARCHAR(50))
			,BorrowerLastName = CAST(_37 AS VARCHAR(50))
			,CoBorrowerFirstName = i._68
			,CoBorrowerLastName = i._69
			,LoanOfficerId = i._LOID
			,LoanPurpose = i._19
			,EscrowVendor = i._610
			,FloodVendor = i._1500
			,ActionTaken = i._1393
			,CensusTract = i._700
			,MSA = i._699
			,LoanCloserName = i._1855
			,Broker = i._VEND_X293
			,OccupancyStatus = i._1811
			,PropertyType = i._1041
			,InvestorStatus = i.LOCKRATE_CURRENTSTATUS
			,Amortization = CAST(i._608 AS VARCHAR(25))
			,LoanSource = CAST(i._2024 AS VARCHAR(20))
			,DateCreated = i._2025
			,BuySideCommitted = CASE WHEN ISNULL(i._2215,'') = '' THEN 'N' ELSE 'Y' END
			,SellSideCommitted = CASE WHEN ISNULL(i._2286,'') = '' THEN 'N' ELSE 'Y' END
			,CurrentMilestoneName = i._MS_STATUS
			,LoanStatus = CASE 
							WHEN _1393 = 'Active Loan' THEN 0
							WHEN _1393 = 'Application denied' THEN 3
							WHEN _1393 = 'Application withdrawn' THEN 4
							WHEN _1393 = 'File Closed for incompleteness' THEN 5
							WHEN _1393 = 'Loan Originated' THEN 1
							WHEN _1393 = 'Application approved but not accepted' THEN 2
							WHEN _1393 = 'Preapproval request approved but not accepted' THEN 8
							WHEN _1393 = 'Preapproval request denied by financial institution' THEN 7
							WHEN _1393 = 'Loan purchased by your institution' THEN 6
							ELSE ''
						  END
			,LastModified = GETDATE()
			,CurrentMilestoneID = CASE
									WHEN _MS_STATUS = 'Started' THEN '1'
									WHEN _MS_STATUS = 'Sent to processing' THEN '2'
									WHEN _MS_STATUS = 'Submitted' THEN '3'
									WHEN _MS_STATUS = 'Approved' THEN '4'
									WHEN _MS_STATUS = 'Doc signed' THEN '5'
									WHEN _MS_STATUS = 'Funded' THEN '6'
									WHEN _MS_STATUS = 'Completed' THEN '7'
									WHEN _MS_STATUS = 'App Fee Collected' THEN '328f032f-59e0-4e7c-aedc-034086f916f3'
									WHEN _MS_STATUS = 'Assigned to UW' THEN '004656b8-a4eb-4973-9c4e-de557d769a09'
									WHEN _MS_STATUS = 'Conditions Submitted to UW' THEN '80dcf250-3c95-4673-a726-160eec345f49'
									WHEN _MS_STATUS = 'UW Decision Expected' THEN '3c34f220-44ec-412c-80a8-5f4dcf4b18d5'
									WHEN _MS_STATUS = 'Assign to Close' THEN '94c0f1c9-9ead-44da-86c4-886bc19e77ae'
									WHEN _MS_STATUS = 'Shipping' THEN '70367ac9-ec21-4be4-a548-8d5710eb6cee'
									ELSE ''
								  END
			,EscrowWaived = CASE WHEN i._2293 = 'Waived' THEN 'Y' ELSE 'N' END
			,LoanProcessorId = i.CurrentTeamMember
			,NextMilestoneName = CASE
									WHEN i._MS_STATUS = 'App Fee Collected' THEN 'Assigned to UW'
									WHEN i._MS_STATUS = 'Approval' THEN 'Assign to Close'
									WHEN i._MS_STATUS = 'Assign to Close' THEN 'Docs Signing'
									WHEN i._MS_STATUS = 'Assigned to UW' THEN 'Submittal'
									WHEN i._MS_STATUS = 'Completion' THEN ''
									WHEN i._MS_STATUS = 'Conditions Submitted to UW' THEN 'Approval'
									WHEN i._MS_STATUS = 'Docs Signing' THEN 'Funding'
									WHEN i._MS_STATUS = 'File started' THEN NULL
									WHEN i._MS_STATUS = 'Funding' THEN 'Shipping'
									WHEN i._MS_STATUS = 'Processing' THEN 'App Fee Collected'
									WHEN i._MS_STATUS = 'Shipping' THEN 'Completion'
									WHEN i._MS_STATUS = 'Started' THEN 'Processing'
									WHEN i._MS_STATUS = 'Submittal' THEN 'UW Decision Expected'
									WHEN i._MS_STATUS = 'UW Decision Expected' THEN 'Conditions Submitted to UW'
									ELSE 'Unknown'
								 END
			  ,NextMilestoneID = CASE
										WHEN i._MS_STATUS = 'App Fee Collected' THEN '004656b8-a4eb-4973-9c4e-de557d769a09'
										WHEN i._MS_STATUS = 'Approval' THEN '94c0f1c9-9ead-44da-86c4-886bc19e77ae'
										WHEN i._MS_STATUS = 'Assign to Close' THEN '5'
										WHEN i._MS_STATUS = 'Assigned to UW' THEN '3'
										WHEN i._MS_STATUS = 'Completion' THEN NULL
										WHEN i._MS_STATUS = 'Conditions Submitted to UW' THEN '4'
										WHEN i._MS_STATUS = 'Docs Signing' THEN '6'
										WHEN i._MS_STATUS = 'File started' THEN NULL
										WHEN i._MS_STATUS = 'Funding' THEN '70367ac9-ec21-4be4-a548-8d5710eb6cee'
										WHEN i._MS_STATUS = 'Processing' THEN '328f032f-59e0-4e7c-aedc-034086f916f3'
										WHEN i._MS_STATUS = 'Shipping' THEN '7'
										WHEN i._MS_STATUS = 'Started' THEN '2'
										WHEN i._MS_STATUS = 'Submittal' THEN '3c34f220-44ec-412c-80a8-5f4dcf4b18d5'
										WHEN i._MS_STATUS = 'UW Decision Expected' THEN '80dcf250-3c95-4673-a726-160eec345f49'
										ELSE '999'
								   END
			  ,NextMilestoneDate = CASE
										WHEN _MS_STATUS = 'App Fee Collected' THEN DATEADD(day,1,ISNULL(d04._MS_STATUSDATE,GETDATE()))
										WHEN _MS_STATUS = 'Approval' THEN DATEADD(day,1,ISNULL(d04._MS_STATUSDATE,GETDATE()))
										WHEN _MS_STATUS = 'Assign to Close' THEN DATEADD(day,3,ISNULL(d04._MS_STATUSDATE,GETDATE()))
										WHEN _MS_STATUS = 'Assigned to UW' THEN DATEADD(day,7,ISNULL(d04._MS_STATUSDATE,GETDATE()))
										WHEN _MS_STATUS = 'Completion' THEN NULL
										WHEN _MS_STATUS = 'Conditions Submitted to UW' THEN DATEADD(day,5,ISNULL(d04._MS_STATUSDATE,GETDATE()))
										WHEN _MS_STATUS = 'Docs Signing' THEN DATEADD(day,4,ISNULL(d04._MS_STATUSDATE,GETDATE()))
										WHEN _MS_STATUS = 'File started' THEN NULL
										WHEN _MS_STATUS = 'Funding' THEN DATEADD(day,3,ISNULL(d04._MS_STATUSDATE,GETDATE()))
										WHEN _MS_STATUS = 'Processing' THEN DATEADD(day,0,ISNULL(d04._MS_STATUSDATE,GETDATE()))
										WHEN _MS_STATUS = 'Shipping' THEN DATEADD(day,0,ISNULL(d04._MS_STATUSDATE,GETDATE()))
										WHEN _MS_STATUS = 'Started' THEN DATEADD(day,14,ISNULL(d04._MS_STATUSDATE,GETDATE()))
										WHEN _MS_STATUS = 'Submittal' THEN DATEADD(day,5,ISNULL(d04._MS_STATUSDATE,GETDATE()))
										WHEN _MS_STATUS = 'UW Decision Expected' THEN DATEADD(day,3,ISNULL(d04._MS_STATUSDATE,GETDATE()))
										ELSE NULL
								   END
			,CurrentCoreMilestoneName = i._MS_STATUS
			,NextCoreMilestoneName = CASE
										WHEN i._MS_STATUS = 'App Fee Collected' THEN 'Assigned to UW'
										WHEN i._MS_STATUS = 'Approval' THEN 'Assign to Close'
										WHEN i._MS_STATUS = 'Assign to Close' THEN 'Docs Signing'
										WHEN i._MS_STATUS = 'Assigned to UW' THEN 'Submittal'
										WHEN i._MS_STATUS = 'Completion' THEN ''
										WHEN i._MS_STATUS = 'Conditions Submitted to UW' THEN 'Approval'
										WHEN i._MS_STATUS = 'Docs Signing' THEN 'Funding'
										WHEN i._MS_STATUS = 'File started' THEN NULL
										WHEN i._MS_STATUS = 'Funding' THEN 'Shipping'
										WHEN i._MS_STATUS = 'Processing' THEN 'App Fee Collected'
										WHEN i._MS_STATUS = 'Shipping' THEN 'Completion'
										WHEN i._MS_STATUS = 'Started' THEN 'Processing'
										WHEN i._MS_STATUS = 'Submittal' THEN 'UW Decision Expected'
										WHEN i._MS_STATUS = 'UW Decision Expected' THEN 'Conditions Submitted to UW'
										ELSE 'Unknown'
									 END
			 ,PrevMilestoneGroupDate = CASE
											WHEN i._MS_STATUS = 'Assigned to UW'  THEN Log_MS_Date_AppFeeCollected  --LOANXDB_D_04
											WHEN i._MS_STATUS = 'Assign to Close' THEN Log_MS_Date_Approval  --LOANXDB_D_01
											WHEN i._MS_STATUS = 'Docs Signing'  THEN Log_MS_Date_AssigntoClose  --LOANXDB_D_02
											WHEN i._MS_STATUS = 'Submittal'  THEN Log_MS_Date_AssignedtoUW  --LOANXDB_D_01
											WHEN i._MS_STATUS = ''  THEN Log_MS_Date_Completion  --LOANXDB_D_01
											WHEN i._MS_STATUS = 'Approval' THEN Log_MS_Date_ConditionsSubmittedtoUW  --LOANXDB_D_02
											WHEN i._MS_STATUS = 'Funding' THEN Log_MS_Date_DocsSigning  --LOANXDB_D_01
											WHEN i._MS_STATUS = NULL THEN Log_MS_DateTime_Started  --LOANXDB_D_05
											WHEN i._MS_STATUS = 'Shipping' THEN Log_MS_Date_Funding  --LOANXDB_D_01
											WHEN i._MS_STATUS = 'App Fee Collected' THEN Log_MS_Date_Processing  --LOANXDB_D_04
											WHEN i._MS_STATUS = 'Completion' THEN Log_MS_Date_Shipping  --LOANXDB_D_03
											WHEN i._MS_STATUS = 'Processing' THEN Log_MS_DateTime_Started  --LOANXDB_D_05
											WHEN i._MS_STATUS = 'UW Decision Expected' THEN Log_MS_Date_submittal  --LOANXDB_D_01
											WHEN i._MS_STATUS = 'Conditions Submitted to UW' THEN Log_MS_Date_UWDecisionExpected  --LOANXDB_D_02
											ELSE NULL
										END
		FROM emdbuser.LoanSummary ls
		JOIN inserted i ON i.XRefID = ls.XRefID
		LEFT JOIN emdbuser.LOANXDB_D_01 d01 ON d01.XRefID = i.XRefID
		LEFT JOIN emdbuser.LOANXDB_D_02 d02 ON d02.XRefID = i.XRefID
		LEFT JOIN emdbuser.LOANXDB_D_03 d03 ON d03.XRefID = i.XRefID
		LEFT JOIN emdbuser.LOANXDB_D_04 d04 ON d04.XRefID = i.XRefID
		LEFT JOIN emdbuser.LOANXDB_D_05 d05 ON d05.XRefID = i.XRefID

	



END
GO
SET QUOTED_IDENTIFIER ON
GO
SET ANSI_NULLS ON
GO

CREATE TRIGGER [emdbuser].[tu_LOANXDB_S_01_Forklift_LoanSummary]
   ON  [emdbuser].[LOANXDB_S_01]
   AFTER UPDATE
AS 
BEGIN
	-- SET NOCOUNT ON added to prevent extra result sets from
	-- interfering with SELECT statements.
	SET NOCOUNT ON;
	SET TRANSACTION ISOLATION LEVEL READ UNCOMMITTED;

	IF (UPDATE(_VEND_X293) OR UPDATE(_11) OR UPDATE(_14) OR UPDATE(_36) OR UPDATE(_37) OR UPDATE(_68) OR UPDATE(_69) OR UPDATE(_LOID) OR 
	    UPDATE(_19) OR UPDATE(_610) OR UPDATE(_1500) OR UPDATE(_1393) OR UPDATE(_700) OR UPDATE(_699) OR UPDATE(_1855) OR UPDATE(_1811) OR UPDATE(_1041) OR 
		UPDATE(LOCKRATE_CURRENTSTATUS) OR UPDATE(_608) OR UPDATE(_2024) OR UPDATE(_2025) OR UPDATE(_2215) OR UPDATE(_2286) OR UPDATE(_MS_STATUS) OR UPDATE(_1393) OR 
		UPDATE(CurrentTeamMember))

		UPDATE ls
		SET  Address1 = i._11
			,State = i._14
			,BorrowerFirstName = CAST(_36 AS VARCHAR(50))
			,BorrowerLastName = CAST(_37 AS VARCHAR(50))
			,CoBorrowerFirstName = i._68
			,CoBorrowerLastName = i._69
			,LoanOfficerId = i._LOID
			,LoanPurpose = i._19
			,EscrowVendor = i._610
			,FloodVendor = i._1500
			,ActionTaken = i._1393
			,CensusTract = i._700
			,MSA = i._699
			,LoanCloserName = i._1855
			,Broker = i._VEND_X293
			,OccupancyStatus = i._1811
			,PropertyType = i._1041
			,InvestorStatus = i.LOCKRATE_CURRENTSTATUS
			,Amortization = CAST(i._608 AS VARCHAR(25))
			,LoanSource = CAST(i._2024 AS varchar(20))
			,DateCreated = i._2025
			,BuySideCommitted = CASE WHEN ISNULL(i._2215,'') = '' THEN 'N' ELSE 'Y' END
			,SellSideCommitted = CASE WHEN ISNULL(i._2286,'') = '' THEN 'N' ELSE 'Y' END
			,CurrentMilestoneName = i._MS_STATUS
			,LoanStatus = CASE 
							WHEN _1393 = 'Active Loan' THEN 0
							WHEN _1393 = 'Application denied' THEN 3
							WHEN _1393 = 'Application withdrawn' THEN 4
							WHEN _1393 = 'File Closed for incompleteness' THEN 5
							WHEN _1393 = 'Loan Originated' THEN 1
							WHEN _1393 = 'Application approved but not accepted' THEN 2
							WHEN _1393 = 'Preapproval request approved but not accepted' THEN 8
							WHEN _1393 = 'Preapproval request denied by financial institution' THEN 7
							WHEN _1393 = 'Loan purchased by your institution' THEN 6
							ELSE ''
						  END
			,LastModified = GETDATE()
			,CurrentMilestoneID = CASE
									WHEN _MS_STATUS = 'Started' THEN '1'
									WHEN _MS_STATUS = 'Sent to processing' THEN '2'
									WHEN _MS_STATUS = 'Submitted' THEN '3'
									WHEN _MS_STATUS = 'Approved' THEN '4'
									WHEN _MS_STATUS = 'Doc signed' THEN '5'
									WHEN _MS_STATUS = 'Funded' THEN '6'
									WHEN _MS_STATUS = 'Completed' THEN '7'
									WHEN _MS_STATUS = 'App Fee Collected' THEN '328f032f-59e0-4e7c-aedc-034086f916f3'
									WHEN _MS_STATUS = 'Assigned to UW' THEN '004656b8-a4eb-4973-9c4e-de557d769a09'
									WHEN _MS_STATUS = 'Conditions Submitted to UW' THEN '80dcf250-3c95-4673-a726-160eec345f49'
									WHEN _MS_STATUS = 'UW Decision Expected' THEN '3c34f220-44ec-412c-80a8-5f4dcf4b18d5'
									WHEN _MS_STATUS = 'Assign to Close' THEN '94c0f1c9-9ead-44da-86c4-886bc19e77ae'
									WHEN _MS_STATUS = 'Shipping' THEN '70367ac9-ec21-4be4-a548-8d5710eb6cee'
									ELSE ''
								  END
			,EscrowWaived = CASE WHEN i._2293 = 'Waived' THEN 'Y' ELSE 'N' END
			,LoanProcessorId = i.CurrentTeamMember
			,NextMilestoneName = CASE
									WHEN i._MS_STATUS = 'App Fee Collected' THEN 'Assigned to UW'
									WHEN i._MS_STATUS = 'Approval' THEN 'Assign to Close'
									WHEN i._MS_STATUS = 'Assign to Close' THEN 'Docs Signing'
									WHEN i._MS_STATUS = 'Assigned to UW' THEN 'Submittal'
									WHEN i._MS_STATUS = 'Completion' THEN ''
									WHEN i._MS_STATUS = 'Conditions Submitted to UW' THEN 'Approval'
									WHEN i._MS_STATUS = 'Docs Signing' THEN 'Funding'
									WHEN i._MS_STATUS = 'File started' THEN NULL
									WHEN i._MS_STATUS = 'Funding' THEN 'Shipping'
									WHEN i._MS_STATUS = 'Processing' THEN 'App Fee Collected'
									WHEN i._MS_STATUS = 'Shipping' THEN 'Completion'
									WHEN i._MS_STATUS = 'Started' THEN 'Processing'
									WHEN i._MS_STATUS = 'Submittal' THEN 'UW Decision Expected'
									WHEN i._MS_STATUS = 'UW Decision Expected' THEN 'Conditions Submitted to UW'
									ELSE 'Unknown'
								 END
			  ,NextMilestoneDate = CASE
										WHEN _MS_STATUS = 'App Fee Collected' THEN DATEADD(day,1,ISNULL(d04._MS_STATUSDATE,GETDATE()))
										WHEN _MS_STATUS = 'Approval' THEN DATEADD(day,1,ISNULL(d04._MS_STATUSDATE,GETDATE()))
										WHEN _MS_STATUS = 'Assign to Close' THEN DATEADD(day,3,ISNULL(d04._MS_STATUSDATE,GETDATE()))
										WHEN _MS_STATUS = 'Assigned to UW' THEN DATEADD(day,7,ISNULL(d04._MS_STATUSDATE,GETDATE()))
										WHEN _MS_STATUS = 'Completion' THEN NULL
										WHEN _MS_STATUS = 'Conditions Submitted to UW' THEN DATEADD(day,5,ISNULL(d04._MS_STATUSDATE,GETDATE()))
										WHEN _MS_STATUS = 'Docs Signing' THEN DATEADD(day,4,ISNULL(d04._MS_STATUSDATE,GETDATE()))
										WHEN _MS_STATUS = 'File started' THEN NULL
										WHEN _MS_STATUS = 'Funding' THEN DATEADD(day,3,ISNULL(d04._MS_STATUSDATE,GETDATE()))
										WHEN _MS_STATUS = 'Processing' THEN DATEADD(day,0,ISNULL(d04._MS_STATUSDATE,GETDATE()))
										WHEN _MS_STATUS = 'Shipping' THEN DATEADD(day,0,ISNULL(d04._MS_STATUSDATE,GETDATE()))
										WHEN _MS_STATUS = 'Started' THEN DATEADD(day,14,ISNULL(d04._MS_STATUSDATE,GETDATE()))
										WHEN _MS_STATUS = 'Submittal' THEN DATEADD(day,5,ISNULL(d04._MS_STATUSDATE,GETDATE()))
										WHEN _MS_STATUS = 'UW Decision Expected' THEN DATEADD(day,3,ISNULL(d04._MS_STATUSDATE,GETDATE()))
										ELSE NULL
								   END
			,CurrentCoreMilestoneName = i._MS_STATUS
			,NextCoreMilestoneName = CASE
									WHEN i._MS_STATUS = 'App Fee Collected' THEN 'Assigned to UW'
									WHEN i._MS_STATUS = 'Approval' THEN 'Assign to Close'
									WHEN i._MS_STATUS = 'Assign to Close' THEN 'Docs Signing'
									WHEN i._MS_STATUS = 'Assigned to UW' THEN 'Submittal'
									WHEN i._MS_STATUS = 'Completion' THEN ''
									WHEN i._MS_STATUS = 'Conditions Submitted to UW' THEN 'Approval'
									WHEN i._MS_STATUS = 'Docs Signing' THEN 'Funding'
									WHEN i._MS_STATUS = 'File started' THEN NULL
									WHEN i._MS_STATUS = 'Funding' THEN 'Shipping'
									WHEN i._MS_STATUS = 'Processing' THEN 'App Fee Collected'
									WHEN i._MS_STATUS = 'Shipping' THEN 'Completion'
									WHEN i._MS_STATUS = 'Started' THEN 'Processing'
									WHEN i._MS_STATUS = 'Submittal' THEN 'UW Decision Expected'
									WHEN i._MS_STATUS = 'UW Decision Expected' THEN 'Conditions Submitted to UW'
									ELSE 'Unknown'
								 END
			 ,PrevMilestoneGroupDate = CASE
											WHEN i._MS_STATUS = 'Assigned to UW'  THEN Log_MS_Date_AppFeeCollected  --LOANXDB_D_04
											WHEN i._MS_STATUS = 'Assign to Close' THEN Log_MS_Date_Approval  --LOANXDB_D_01
											WHEN i._MS_STATUS = 'Docs Signing'  THEN Log_MS_Date_AssigntoClose  --LOANXDB_D_02
											WHEN i._MS_STATUS = 'Submittal'  THEN Log_MS_Date_AssignedtoUW  --LOANXDB_D_01
											WHEN i._MS_STATUS = ''  THEN Log_MS_Date_Completion  --LOANXDB_D_01
											WHEN i._MS_STATUS = 'Approval' THEN Log_MS_Date_ConditionsSubmittedtoUW  --LOANXDB_D_02
											WHEN i._MS_STATUS = 'Funding' THEN Log_MS_Date_DocsSigning  --LOANXDB_D_01
											WHEN i._MS_STATUS = NULL THEN Log_MS_DateTime_Started  --LOANXDB_D_05
											WHEN i._MS_STATUS = 'Shipping' THEN Log_MS_Date_Funding  --LOANXDB_D_01
											WHEN i._MS_STATUS = 'App Fee Collected' THEN Log_MS_Date_Processing  --LOANXDB_D_04
											WHEN i._MS_STATUS = 'Completion' THEN Log_MS_Date_Shipping  --LOANXDB_D_03
											WHEN i._MS_STATUS = 'Processing' THEN Log_MS_DateTime_Started  --LOANXDB_D_05
											WHEN i._MS_STATUS = 'UW Decision Expected' THEN Log_MS_Date_submittal  --LOANXDB_D_01
											WHEN i._MS_STATUS = 'Conditions Submitted to UW' THEN Log_MS_Date_UWDecisionExpected  --LOANXDB_D_02
											ELSE NULL
										END
		FROM emdbuser.LoanSummary ls
		JOIN inserted i ON i.XRefID = ls.XRefID
		LEFT JOIN emdbuser.LOANXDB_D_01 d01 ON d01.XRefID = i.XRefID
		LEFT JOIN emdbuser.LOANXDB_D_02 d02 ON d02.XRefID = i.XRefID
		LEFT JOIN emdbuser.LOANXDB_D_03 d03 ON d03.XRefID = i.XRefID
		LEFT JOIN emdbuser.LOANXDB_D_04 d04 ON d04.XRefID = i.XRefID
		LEFT JOIN emdbuser.LOANXDB_D_05 d05 ON d05.XRefID = i.XRefID

	



END
GO
ALTER TABLE [emdbuser].[LOANXDB_S_01] ADD CONSTRAINT [PK_LOANXDB_S_01_XrefId] PRIMARY KEY CLUSTERED  ([XrefId]) WITH (FILLFACTOR=80) ON [PRIMARY]
GO
CREATE NONCLUSTERED INDEX [IDX_GRI_LOANXDB_S_01_1393_1240] ON [emdbuser].[LOANXDB_S_01] ([_1393], [_1240]) INCLUDE ([_11], [_1268], [_13], [_14], [_1811], [_19], [_97], [XrefId]) WITH (FILLFACTOR=100) ON [PRIMARY]
GO
CREATE NONCLUSTERED INDEX [IDX_2] ON [emdbuser].[LOANXDB_S_01] ([_19]) WITH (FILLFACTOR=100) ON [PRIMARY]
GO
CREATE NONCLUSTERED INDEX [IDX_GRI_LOANXDB_S_01_LoanService_01] ON [emdbuser].[LOANXDB_S_01] ([_97], [_FR0207], [_1393], [_FR0208], [_1268]) WITH (FILLFACTOR=100, PAD_INDEX=ON) ON [PRIMARY]
GO
CREATE NONCLUSTERED INDEX [IDX_GRI_1] ON [emdbuser].[LOANXDB_S_01] ([_984]) WITH (FILLFACTOR=100) ON [PRIMARY]
GO
CREATE NONCLUSTERED INDEX [IDX_GRI_LOANXDB_S_01__MS_STATUS] ON [emdbuser].[LOANXDB_S_01] ([_MS_STATUS]) WITH (FILLFACTOR=100) ON [PRIMARY]
GO
CREATE NONCLUSTERED INDEX [IDX_GRI_LOANXDB_S_01_LoanService_18] ON [emdbuser].[LOANXDB_S_01] ([XrefId]) INCLUDE ([_1040], [_11], [_1240], [_1268], [_14], [_36], [_37], [_68], [_69], [_97]) WITH (FILLFACTOR=100, PAD_INDEX=ON) ON [PRIMARY]
GO
CREATE NONCLUSTERED INDEX [IDX_GRI_CHILHQSQLDB_Warehouse_DailyLocks_03] ON [emdbuser].[LOANXDB_S_01] ([XrefId]) INCLUDE ([_14], [_19], [_2286], [_2288], [_36], [_37], [_608]) WITH (FILLFACTOR=100) ON [PRIMARY]
GO
